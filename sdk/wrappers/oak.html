<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OAK-D &mdash; spectacularAI  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=3a41478c" />

  
    <link rel="shortcut icon" href="https://www.spectacularai.com/favicon/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b3ba4146"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../_static/tabs.js?v=3030b3cb"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="RealSense" href="realsense.html" />
    <link rel="prev" title="Wrappers" href="../wrappers.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="https://spectacularai.github.io/docs/png/SpectacularAI-name-logo-small-white-transparent.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../python/latest/index.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cpp/latest/index.html">C++</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../core.html">Core SDK</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tracking.html">Tracking API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mapping.html">Mapping API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recording.html">Recording</a></li>
<li class="toctree-l2"><a class="reference internal" href="../replay.html">Replay API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../custom-hardware.html">Custom hardware</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../wrappers.html">Wrappers</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">OAK-D</a></li>
<li class="toctree-l2"><a class="reference internal" href="realsense.html">RealSense</a></li>
<li class="toctree-l2"><a class="reference internal" href="k4a.html">Azure Kinect</a></li>
<li class="toctree-l2"><a class="reference internal" href="orbbec.html">ORBBEC</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobile.html">iOS &amp; Android</a></li>
<li class="toctree-l2"><a class="reference internal" href="ros.html">ROS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools.html">Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tools/nerf.html">Gaussian Splatting &amp; NeRFs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools/calibration.html">Calibration</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">spectacularAI</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
    <ul class="wy-breadcrumbs">
        <li><a href="../index.html" aria-label="Home">Spectacular AI SDK documentation</a></li>
            <li class="breadcrumb-item"><a href="../wrappers.html">Wrappers</a></li>
        <li class="breadcrumb-item active">OAK-D</li>
    <li class="wy-breadcrumbs-aside version">
        v1.39
    </li>
    </ul>

    <hr/>
  </div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="oak-d">
<h1>OAK-D<a class="headerlink" href="#oak-d" title="Permalink to this heading"></a></h1>
<p><strong>Spectacular AI Plugin for Luxonis Depth AI cameras</strong></p>
<img alt="https://spectacularai.github.io/docs/gif/spatial-ai.gif" class="align-center" src="https://spectacularai.github.io/docs/gif/spatial-ai.gif" />
<section id="supported-devices">
<h2>Supported devices<a class="headerlink" href="#supported-devices" title="Permalink to this heading"></a></h2>
<p>OAK-D models with IMU sensors are supported. This includes but is not limited to</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://shop.luxonis.com/products/oak-d">OAK-D</a></p></li>
<li><p>OAK-D (Pro) W</p></li>
<li><p>OAK-D LR</p></li>
<li><p>OAK-D PoE</p></li>
</ul>
</div></blockquote>
<p>OAK-D Lite or OAK-1 are not supported due to the lack of IMU (not because of monocularity).
For the PoE models, or devices connected via USB2, there may be issues with reading the data
out of the device fast enough.</p>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h2>
<blockquote>
<div><ol class="arabic simple">
<li><p>First install <a class="reference external" href="../index.html#development-dependencies">development dependencies</a>.</p></li>
<li><p>Linux only: set up <a class="reference external" href="https://docs.luxonis.com/hardware/platform/deploy/usb-deployment-guide/#USB%20deployment%20guide-Initial%20Connection-Debugging-Linux%20udev%20rules">OAK-D udev rules</a>.</p></li>
<li><p>For data recording also <a class="reference external" href="../index.html#ffmpeg">install FFmpeg</a>.</p></li>
</ol>
</div></blockquote>
<p>Note: On Linux, you may also need to <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">python3-tk</span></code> to run the Matplotlib-based visualizations, and
<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">libusb-1.0-0-dev</span></code> (see <a class="reference external" href="https://docs.luxonis.com/software/depthai/manual-install#Manual%20DepthAI%20installation-Installing%20dependencies-Ubuntu%2FDebian">Luxonis documentation</a>
for more information)</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-0-Qysr" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Qysr" name="Qysr" role="tab" tabindex="-1">C++</button></div><div aria-labelledby="tab-0-UHl0aG9u" class="sphinx-tabs-panel group-tab" id="panel-0-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><p>Install from Pip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">spectacularAI</span><span class="p">[</span><span class="n">full</span><span class="p">]</span>
</pre></div>
</div>
<p>The postfix <code class="docutils literal notranslate"><span class="pre">[full]</span></code> will also install the sai-cli tool and the requirements for the visualizations and <a class="reference external" href="https://github.com/SpectacularAI/sdk-examples/tree/main/python/oak">examples</a>.
In more advanced use of the SDK, it may not be needed.</p>
</div><div aria-labelledby="tab-0-Qysr" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Qysr" name="Qysr" role="tabpanel" tabindex="0"><p><strong>Quick start</strong></p>
<ol class="arabic">
<li><p>Install the system dependencies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">zlib</span> <span class="n">libstdc</span><span class="o">++</span> <span class="n">libusb</span><span class="o">-</span><span class="mf">1.0</span><span class="o">-</span><span class="mi">0</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
</li>
<li><p>Download the the SDK archive from the <a class="reference external" href="https://github.com/SpectacularAI/sdk/releases">SDK releases</a> page.</p></li>
<li><p>Unpack the archive to a folder and run the following commands in there.</p></li>
<li><p>Attach your OAK-D device to a USB3 port, using a USB3 cable</p></li>
<li><p>(optional smoke test) Run the JSONL example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="nb">bin</span>
<span class="o">./</span><span class="n">vio_jsonl</span>
<span class="c1"># or, on Windows: vio_jsonl.exe</span>

<span class="c1"># Now you should see rapidly flowing JSONL text</span>
<span class="c1"># press Ctrl+C to exit</span>
</pre></div>
</div>
</li>
<li><p>Run the Python example (in the <cite>bin</cite> directory):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">matplotlib</span> <span class="c1"># install dependencies</span>
<span class="n">python</span> <span class="n">vio_visu</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</li>
<li><p>Move the OAK-D around, avoid pointing at blank walls or covering
the cameras. The plotted trajectory should follow the movement of the device.</p></li>
</ol>
<p><strong>Installation as a library</strong> (Linux)</p>
<ol class="arabic">
<li><p>Select where you want the library installed, e.g.,:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">MY_INSTALL_PREFIX</span><span class="o">=~/.</span><span class="n">local</span>
<span class="c1"># or: export MY_INSTALL_PREFIX=`pwd`/installed</span>
</pre></div>
</div>
</li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">PREFIX=$MY_INSTALL_PREFIX</span> <span class="pre">install</span></code> (or <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">make</span> <span class="pre">install</span></code>)</p></li>
<li><p>Build the example using CMake:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>make PREFIX=$MY_INSTALL_PREFIX examples
</pre></div>
</div>
</li>
<li><p>Run the example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">examples</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">vio_jsonl</span>
</pre></div>
</div>
</li>
</ol>
<p><strong>Installation as a library</strong> (Windows)</p>
<ol class="arabic">
<li><p>Build the example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">examples</span>
<span class="n">mkdir</span> <span class="n">target</span>
<span class="n">cd</span> <span class="n">target</span>
</pre></div>
</div>
<p>To properly pass arguments to cmake in PowerShell we need a bit more elaborate command, depending on the shell you are using pick A) or B).</p>
<ol class="upperalpha">
<li><p>In PowerShell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Start</span><span class="o">-</span><span class="n">Process</span> <span class="n">cmake</span> <span class="o">-</span><span class="n">ArgumentList</span> <span class="s2">&quot;-G &quot;&quot;Visual Studio 16 2019&quot;&quot; -A x64 -DspectacularAI_depthaiPlugin_DIR=..\lib\cmake\spectacularAI -Ddepthai_DIR=..\lib\cmake\depthai ..&quot;</span> <span class="o">-</span><span class="n">NoNewWindow</span>
</pre></div>
</div>
</li>
<li><p>In Git Bash or similar:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">G</span> <span class="s2">&quot;Visual Studio 16 2019&quot;</span> <span class="o">-</span><span class="n">A</span> <span class="n">x64</span> <span class="o">-</span><span class="n">DspectacularAI_depthaiPlugin_DIR</span><span class="o">=../</span><span class="n">lib</span><span class="o">/</span><span class="n">cmake</span><span class="o">/</span><span class="n">spectacularAI</span> <span class="o">-</span><span class="n">Ddepthai_DIR</span><span class="o">=../</span><span class="n">lib</span><span class="o">/</span><span class="n">cmake</span><span class="o">/</span><span class="n">depthai</span> <span class="o">..</span>
</pre></div>
</div>
</li>
</ol>
</li>
<li><p>Then execute the build:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">--</span><span class="n">build</span> <span class="o">.</span> <span class="o">--</span><span class="n">config</span> <span class="n">Release</span> <span class="o">--</span> <span class="o">-</span>  <span class="n">m</span>
</pre></div>
</div>
</li>
<li><p>Running the vio_jsonl.exe should give you the pose of the OAK-D device in real time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">Release</span>
<span class="o">./</span><span class="n">vio_jsonl</span><span class="o">.</span><span class="n">exe</span>
</pre></div>
</div>
</li>
</ol>
<p>Example output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;orientation&quot;</span><span class="p">:{</span><span class="s2">&quot;w&quot;</span><span class="p">:</span><span class="mf">0.7068698348716513</span><span class="p">,</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="mf">0.02283470213352065</span><span class="p">,</span><span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">0.011350438374188287</span><span class="p">,</span><span class="s2">&quot;z&quot;</span><span class="p">:</span><span class="mf">0.7068838521820336</span><span class="p">},</span><span class="s2">&quot;position&quot;</span><span class="p">:{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">0.016812673347013137</span><span class="p">,</span><span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">0.0231306465130168</span><span class="p">,</span><span class="s2">&quot;z&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">0.0013136235444364183</span><span class="p">},</span><span class="s2">&quot;time&quot;</span><span class="p">:</span><span class="mf">61088.131537828</span><span class="p">,</span><span class="s2">&quot;velocity&quot;</span><span class="p">:{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">3.936320861854323e-06</span><span class="p">,</span><span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">1.8569468854259723e-06</span><span class="p">,</span><span class="s2">&quot;z&quot;</span><span class="p">:</span><span class="mf">0.00031940298071614516</span><span class="p">}}</span>
</pre></div>
</div>
</div></div>
</section>
<section id="id2">
<h2>Examples<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h2>
<video width="100%" muted loop autoplay>
    <source src="https://spectacularai.github.io/docs/video/preview-oakd.mp4" type="video/mp4">
    Your browser does not support the video tag.
</video><p>A comprehensive set of examples are available at the SDK examples repository:</p>
<blockquote>
<div><ul class="simple">
<li><p>Python: <a class="reference external" href="https://github.com/SpectacularAI/sdk-examples/tree/main/python/oak">https://github.com/SpectacularAI/sdk-examples/tree/main/python/oak</a></p></li>
<li><p>C++: <a class="reference external" href="https://github.com/SpectacularAI/sdk-examples/tree/main/cpp/oak">https://github.com/SpectacularAI/sdk-examples/tree/main/cpp/oak</a></p></li>
</ul>
</div></blockquote>
<p>The main steps for using this SDK are:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Initialize a <code class="docutils literal notranslate"><span class="pre">depthai.Pipeline</span></code> (see <a class="reference external" href="https://docs.luxonis.com/projects/api/en/latest/references/python/">Luxonis documentation</a> for more info)</p></li>
<li><p>Create a <code class="xref py py-class docutils literal notranslate"><span class="pre">spectacularAI.depthai.Pipeline</span></code> using that
(with optional configuration as keyword arguments, see <code class="xref py py-class docutils literal notranslate"><span class="pre">spectacularAI.depthai.Configuration</span></code>)</p></li>
<li><p>Create a <code class="xref py py-class docutils literal notranslate"><span class="pre">spectacularAI.depthai.Session</span></code> using <code class="xref py py-meth docutils literal notranslate"><span class="pre">startSession()</span></code></p></li>
<li><p>Poll outputs from the VIO session queue using <code class="xref py py-meth docutils literal notranslate"><span class="pre">getOutput()</span></code>
in a loop where <code class="xref py py-meth docutils literal notranslate"><span class="pre">work()</span></code> is also periodically called</p></li>
<li><p>Utilize the <code class="xref py py-class docutils literal notranslate"><span class="pre">spectacularAI.VioOutput</span></code> objects with 6-DoF poses and other data</p></li>
</ol>
</div></blockquote>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-1-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-1-Qysr" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-1-Qysr" name="Qysr" role="tab" tabindex="-1">C++</button></div><div aria-labelledby="tab-1-UHl0aG9u" class="sphinx-tabs-panel code-tab group-tab" id="panel-1-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">depthai</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">spectacularAI</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="n">pipeline</span> <span class="o">=</span> <span class="n">depthai</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">()</span> <span class="c1"># -- 1 --</span>

<span class="n">vio_pipeline</span> <span class="o">=</span> <span class="n">spectacularAI</span><span class="o">.</span><span class="n">depthai</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span> <span class="c1"># -- 2 --</span>
<span class="c1"># options, e.g.: spectacularAI.depthai.Pipeline(pipeline, useStereo=False)</span>

<span class="k">with</span> <span class="n">depthai</span><span class="o">.</span><span class="n">Device</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span> <span class="k">as</span> <span class="n">device</span><span class="p">:</span>
    <span class="n">vio_session</span> <span class="o">=</span> <span class="n">vio_pipeline</span><span class="o">.</span><span class="n">startSession</span><span class="p">(</span><span class="n">device</span><span class="p">)</span> <span class="c1"># -- 3 --</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">vio_session</span><span class="o">.</span><span class="n">hasOutput</span><span class="p">():</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">vio_session</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span> <span class="c1"># -- 4 --</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">out</span><span class="o">.</span><span class="n">asJson</span><span class="p">())</span>           <span class="c1"># -- 5 --</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">vio_session</span><span class="o">.</span><span class="n">work</span><span class="p">():</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.005</span><span class="p">)</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-Qysr" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-1-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;depthai/depthai.hpp&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;spectacularAI/depthai/plugin.hpp&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">dai</span><span class="o">::</span><span class="n">Pipeline</span><span class="w"> </span><span class="n">pipeline</span><span class="p">;</span><span class="w"> </span><span class="c1">// -- 1 --</span>

<span class="w">    </span><span class="n">spectacularAI</span><span class="o">::</span><span class="n">daiPlugin</span><span class="o">::</span><span class="n">Configuration</span><span class="w"> </span><span class="n">config</span><span class="p">;</span><span class="w"> </span><span class="c1">// Optional configuration</span>
<span class="w">    </span><span class="c1">// config.useStereo = false;</span>
<span class="w">    </span><span class="n">spectacularAI</span><span class="o">::</span><span class="n">daiPlugin</span><span class="o">::</span><span class="n">Pipeline</span><span class="w"> </span><span class="n">vioPipeline</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span><span class="w"> </span><span class="n">config</span><span class="p">);</span><span class="w"> </span><span class="c1">// -- 2 --</span>

<span class="w">    </span><span class="n">dai</span><span class="o">::</span><span class="n">Device</span><span class="w"> </span><span class="n">device</span><span class="p">(</span><span class="n">pipeline</span><span class="p">);</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">vioSession</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vioPipeline</span><span class="p">.</span><span class="n">startSession</span><span class="p">(</span><span class="n">device</span><span class="p">);</span><span class="w"> </span><span class="c1">// -- 3 --</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">auto</span><span class="w"> </span><span class="n">vioOut</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vioSession</span><span class="o">-&gt;</span><span class="n">waitForOutput</span><span class="p">();</span><span class="w">  </span><span class="c1">// -- 4 --</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">vioOut</span><span class="o">-&gt;</span><span class="n">asJson</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="c1">// -- 5 --</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</section>
<section id="recording-data">
<h2>Recording data<a class="headerlink" href="#recording-data" title="Permalink to this heading"></a></h2>
<p>Requirements: <a class="reference external" href="../index.html#ffmpeg">install FFmpeg</a> before recording.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-2-Qysr" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-Qysr" name="Qysr" role="tab" tabindex="-1">C++</button></div><div aria-labelledby="tab-2-UHl0aG9u" class="sphinx-tabs-panel group-tab" id="panel-2-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><p>To record data for troubleshooting and offline replay, see:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sai</span><span class="o">-</span><span class="n">cli</span> <span class="n">record</span> <span class="n">oak</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-Qysr" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-Qysr" name="Qysr" role="tabpanel" tabindex="0"><p>To record data without Python, you can use the <code class="docutils literal notranslate"><span class="pre">vio_jsonl</span></code> executable built in the <em>Installation / Quick start</em>
section by giving it a second argument as the recording folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">vio_jsonl</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">recording</span><span class="o">/</span><span class="n">folder</span>
<span class="c1"># or, on Windows: vio_jsonl.exe /path/to/recording/folder</span>
</pre></div>
</div>
</div></div>
</section>
<section id="troubleshooting-and-customization">
<h2>Troubleshooting and customization<a class="headerlink" href="#troubleshooting-and-customization" title="Permalink to this heading"></a></h2>
<section id="camera-calibration">
<h3>Camera calibration<a class="headerlink" href="#camera-calibration" title="Permalink to this heading"></a></h3>
<p>Rarely, the OAK-D device factory calibration may be inaccurate, which may cause the VIO performance to be always very bad in all environments. If this is the case, the device can be recalibrated following <a class="reference external" href="https://docs.luxonis.com/en/latest/pages/calibration/">Luxonis’ instructions</a> (see also <a class="reference external" href="https://spectacularai.github.io/docs/pdf/oak_fisheye_calibration_instructions.pdf">our instructions for fisheye cameras</a> for extra tips).</p>
<p>Also calibrate the camera according to <a class="reference external" href="https://spectacularai.github.io/docs/pdf/oak_fisheye_calibration_instructions.pdf">these instructions</a>, if you have changed the lenses or the device did not include a factory calibration.</p>
</section>
<section id="frame-rate">
<h3>Frame rate<a class="headerlink" href="#frame-rate" title="Permalink to this heading"></a></h3>
<p>The camera frame rate can be controlled with the <a class="reference external" href="https://docs.luxonis.com/projects/api/en/latest/components/nodes/mono_camera/">Depth AI methods</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vio_pipeline</span> <span class="o">=</span> <span class="n">spectacularAI</span><span class="o">.</span><span class="n">depthai</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span>
<span class="n">changed_fps</span> <span class="o">=</span> <span class="mi">25</span> <span class="c1"># new</span>
<span class="n">vio_pipeline</span><span class="o">.</span><span class="n">monoLeft</span><span class="o">.</span><span class="n">setFps</span><span class="p">(</span><span class="n">changed_fps</span><span class="p">)</span> <span class="c1"># new</span>
<span class="n">vio_pipeline</span><span class="o">.</span><span class="n">monoRight</span><span class="o">.</span><span class="n">setFps</span><span class="p">(</span><span class="n">changed_fps</span><span class="p">)</span> <span class="c1"># new</span>
</pre></div>
</div>
<p>Reducing the frame rate (the default is 30) can be used to lower power consumption at the expense of accuracy. Depending on the use case (vehicular, hand-held, etc.), frame rates as low as 10 or 15 FPS may yield acceptable performance.</p>
</section>
<section id="camera-modes">
<h3>Camera modes<a class="headerlink" href="#camera-modes" title="Permalink to this heading"></a></h3>
<p>By default, the SDK reads the following types of data from the OAK devices:</p>
<ul class="simple">
<li><p>Depth map at full FPS (30 FPS)</p></li>
<li><p>Sparse image features at full FPS</p></li>
<li><p>Rectified monochrome images from two cameras at a reduced FPS (resolution 400p)</p></li>
<li><p>IMU data at full frequency (&gt; 200Hz)</p></li>
</ul>
<p>This can be controlled with the following configuration flags, which can be modified using the <code class="xref py py-class docutils literal notranslate"><span class="pre">spectacularAI.depthai.Configuration</span></code> object, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">spectacularAI</span><span class="o">.</span><span class="n">depthai</span><span class="o">.</span><span class="n">Configuration</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">useStereo</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1"># example: enable monocular mode</span>
<span class="n">vio_pipeline</span> <span class="o">=</span> <span class="n">spectacularAI</span><span class="o">.</span><span class="n">depthai</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
</pre></div>
</div>
<p>Arbitrary combinations of configuration changes are not supported, and non-default configurations are not guaranteed to be forward-compatible (may break between SDK releases). Changing the configuration is not expected to improve performance in general, but may help in specific use cases. Testing the following modes is encouraged:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">useFeatureTracker</span> <span class="pre">=</span> <span class="pre">False</span></code>. Disabled accelerated feature tracking, which can improve accuracy, but also increases CPU consumption. Causes depth map and feature inputs to be replaced with full FPS monochrome image data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">useStereo</span> <span class="pre">=</span> <span class="pre">False</span></code>. Enable monocular mode. Reduces accuracy and robustness but also decreases CPU consumption.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">useSlam</span> <span class="pre">=</span> <span class="pre">False</span></code>. Disable loop closures and other related processing. Can make the relative pose changes more predictable. Disables reduced FPS image data input.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">useVioAutoExposure</span> <span class="pre">=</span> <span class="pre">True</span></code>. Enable custom auto-exposure to improve low-light scenarios and reduce motion blur (BETA).</p></li>
</ol>
</div></blockquote>
</section>
<section id="unsupported-oak-d-models">
<h3>Unsupported OAK-D models<a class="headerlink" href="#unsupported-oak-d-models" title="Permalink to this heading"></a></h3>
<p>Some (less common) OAK models require setting certain parameters manually. Namely, the IMU-to-camera matrix may need to be changed if the device model was not recognized by the SDK. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vio_pipeline</span> <span class="o">=</span> <span class="n">spectacularAI</span><span class="o">.</span><span class="n">depthai</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span>
<span class="c1"># manual IMU-to-camera matrix configuration</span>
<span class="n">vio_pipeline</span><span class="o">.</span><span class="n">imuToCameraLeft</span> <span class="o">=</span> <span class="p">[</span>
   <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
   <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
   <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
   <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="running-on-jetson">
<h2>Running on Jetson<a class="headerlink" href="#running-on-jetson" title="Permalink to this heading"></a></h2>
<p>Running on Jetson (Nano) requires some additional steps in order to get the SDK
working. Luxonis has more detailed at
<a class="reference external" href="https://docs.luxonis.com/projects/api/en/latest/install/#jetson">https://docs.luxonis.com/projects/api/en/latest/install/#jetson</a>, but below are
the minimum required steps.</p>
<p>Open a terminal window and run the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span> <span class="o">&amp;&amp;</span> <span class="n">sudo</span> <span class="n">apt</span> <span class="n">upgrade</span>
<span class="n">sudo</span> <span class="n">reboot</span> <span class="n">now</span>
</pre></div>
</div>
<p>Change the size of your SWAP. These instructions come from the Getting Started with AI on Jetson from Nvidia:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Disable ZRAM:</span>
<span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">disable</span> <span class="n">nvzramconfig</span>

<span class="c1"># Create 4GB swap file</span>
<span class="n">sudo</span> <span class="n">fallocate</span> <span class="o">-</span><span class="n">l</span> <span class="mi">4</span><span class="n">G</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="mi">4</span><span class="n">GB</span><span class="o">.</span><span class="n">swap</span>
<span class="n">sudo</span> <span class="n">chmod</span> <span class="mi">600</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="mi">4</span><span class="n">GB</span><span class="o">.</span><span class="n">swap</span>
<span class="n">sudo</span> <span class="n">mkswap</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="mi">4</span><span class="n">GB</span><span class="o">.</span><span class="n">swap</span>
</pre></div>
</div>
<p>(Optional) If you have an issue with the final command, you can try the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">vi</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span>

<span class="c1"># Add this line at the bottom of the file</span>
<span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="mi">4</span><span class="n">GB</span><span class="o">.</span><span class="n">swap</span> <span class="n">swap</span> <span class="n">swap</span> <span class="n">defaults</span> <span class="mi">0</span> <span class="mi">0</span>

<span class="c1"># Reboot</span>
<span class="n">sudo</span> <span class="n">reboot</span> <span class="n">now</span>
</pre></div>
</div>
</section>
<section id="api-reference">
<h2>API reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h2>
<p>The classes specific to the Depth AI (OAK-D) plugin are documented below. For the main output classes, refer to the C++ documentation in <a class="reference internal" href="../core.html#core-sdk"><span class="std std-ref">Core SDK</span></a>.</p>
<section id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-3-Qysr" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-Qysr" name="Qysr" role="tab" tabindex="-1">C++</button></div><div aria-labelledby="tab-3-UHl0aG9u" class="sphinx-tabs-panel group-tab" id="panel-3-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-3-Qysr" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-Qysr" name="Qysr" role="tabpanel" tabindex="0"><p>Defined in <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;spectacularAI/depthai/configuration.hpp&gt;</span></code></p>
<dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">spectacularAI</span></span></span><br /></dt>
<dd><dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">daiPlugin</span></span></span><br /></dt>
<dd><dl class="cpp struct">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Configuration</span></span></span><br /></dt>
<dd><p>Plugin and Spectacular AI VIO SDK configuration variables. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">useStereo</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">true</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">useSlam</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">true</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">useFeatureTracker</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">true</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fastVio</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">lowLatency</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">forceRectified</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">forceUnrectified</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">useColor</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">useColorStereoCameras</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">useEncodedVideo</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">useGrayDepth</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mapSavePath</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mapLoadPath</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">useVioAutoExposure</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">aprilTagPath</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">meshRectification</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">depthScaleCorrection</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">extendedDisparity</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fastImu</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">useReaderThread</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">true</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">imuFrequencyHz</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">accFrequencyHz</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">500</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gyroFrequencyHz</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">400</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ensureSufficientUsbSpeed</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">true</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">silenceUsbWarnings</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">monoQueueSize</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">8</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">depthQueueSize</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">20</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">imuQueueSize</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">50</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">keyframeCandidateEveryNthFrame</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">6</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">inputResolution</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;400p&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">recordingFolder</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">recordingOnly</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">disableCameras</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI8Vector3dE" title="spectacularAI::Vector3d"><span class="n"><span class="pre">Vector3d</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">imuToGnss</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">parameterSets</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="s"><span class="pre">&quot;wrapper-base&quot;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;oak-d&quot;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;live&quot;</span></span><span class="p"><span class="pre">}</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">map</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">internalParameters</span></span></span><br /></dt>
<dd><p>Internal SDK parameter overrides (key-value pairs). Not safe for unsanitized user input. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</dd></dl>

</div></div>
</section>
<section id="pipeline">
<h3>Pipeline<a class="headerlink" href="#pipeline" title="Permalink to this heading"></a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-4-Qysr" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-Qysr" name="Qysr" role="tab" tabindex="-1">C++</button></div><div aria-labelledby="tab-4-UHl0aG9u" class="sphinx-tabs-panel group-tab" id="panel-4-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-4-Qysr" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-Qysr" name="Qysr" role="tabpanel" tabindex="0"><p>Defined in <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;spectacularAI/depthai/pipeline.hpp&gt;</span></code></p>
<dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dai</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">spectacularAI</span></span></span><br /></dt>
<dd><dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">daiPlugin</span></span></span><br /></dt>
<dd><dl class="cpp struct">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Pipeline</span></span></span><br /></dt>
<dd><p>Spectacular AI pipeline for Depth AI API. It is recommended to build this using the constructors provided, but it is also possible to replace or configure all parts manually. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="sig-name descname"><span class="n"><span class="pre">Pipeline</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DaiPipeline</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">daiPipeline</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Create a pipeline with the default configuration. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="sig-name descname"><span class="n"><span class="pre">Pipeline</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DaiPipeline</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">daiPipeline</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI9daiPlugin13ConfigurationE" title="spectacularAI::daiPlugin::Configuration"><span class="n"><span class="pre">Configuration</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Create a pipeline with custom configuration </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="sig-name descname"><span class="n"><span class="pre">Pipeline</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DaiPipeline</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">daiPipeline</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI9daiPlugin13ConfigurationE" title="spectacularAI::daiPlugin::Configuration"><span class="n"><span class="pre">Configuration</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI7mappingE" title="spectacularAI::mapping"><span class="n"><span class="pre">mapping</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI7mapping15MapperOutputPtrE" title="spectacularAI::mapping::MapperOutputPtr"><span class="n"><span class="pre">MapperOutputPtr</span></span></a><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">onMapperOutput</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Create a pipeline with custom configuration with Mapping API enabled </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">unique_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI9daiPlugin7SessionE" title="spectacularAI::daiPlugin::Session"><span class="n"><span class="pre">Session</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">startSession</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DaiDevice</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">device</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Start a new VIO session on the given Depth AI device. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI9daiPlugin13ConfigurationE" title="spectacularAI::daiPlugin::Configuration"><span class="n"><span class="pre">Configuration</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">configuration</span></span></span><br /></dt>
<dd><p>Spectacular AI VIO SDK configuration </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">IMUNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">imu</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">MonoCameraNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">monoLeft</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">MonoCameraNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">monoRight</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">MonoCameraNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">monoPrimary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">MonoCameraNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">monoSecondary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">ColorCameraNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">colorLeft</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">ColorCameraNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">colorRight</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">ColorCameraNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">colorPrimary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">ColorCameraNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">colorSecondary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">ColorCameraNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">color</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">ImageManipNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">colorImageManip</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">StereoDepthNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stereo</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">FeatureTrackerNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">featureTracker</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">ScriptNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scriptPrimary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">ScriptNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scriptSecondary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">VideoEncoderNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">videoEncoderPrimary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">VideoEncoderNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">videoEncoderSecondary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">XLinkInNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xinControl</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">XLinkOutNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xoutImu</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">XLinkOutNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xoutLeft</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">XLinkOutNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xoutRight</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">XLinkOutNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xoutScriptPrimary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">XLinkOutNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xoutScriptSecondary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">XLinkOutNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xoutPrimary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">XLinkOutNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xoutSecondary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">XLinkOutNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xoutFeatures</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">XLinkOutNode</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xoutDepth</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI8Matrix4dE" title="spectacularAI::Matrix4d"><span class="n"><span class="pre">Matrix4d</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">imuToCameraLeft</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="p"><span class="pre">}</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">spectacularAIConfigurationYAML</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI9daiPlugin5HooksE" title="spectacularAI::daiPlugin::Hooks"><span class="n"><span class="pre">Hooks</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hooks</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI7mappingE" title="spectacularAI::mapping"><span class="n"><span class="pre">mapping</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI7mapping15MapperOutputPtrE" title="spectacularAI::mapping::MapperOutputPtr"><span class="n"><span class="pre">MapperOutputPtr</span></span></a><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">onMapperOutput</span></span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

</dd></dl>

</div></div>
</section>
<section id="session">
<h3>Session<a class="headerlink" href="#session" title="Permalink to this heading"></a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-5-Qysr" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-Qysr" name="Qysr" role="tab" tabindex="-1">C++</button></div><div aria-labelledby="tab-5-UHl0aG9u" class="sphinx-tabs-panel group-tab" id="panel-5-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-5-Qysr" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-Qysr" name="Qysr" role="tabpanel" tabindex="0"><p>Defined in <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;spectacularAI/depthai/session.hpp&gt;</span></code></p>
<dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">spectacularAI</span></span></span><br /></dt>
<dd><dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">daiPlugin</span></span></span><br /></dt>
<dd><dl class="cpp struct">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Session</span></span></span><br /></dt>
<dd><p>VIO session. Should be created via <a class="reference internal" href="../cpp/latest/index.html#structspectacularAI_1_1daiPlugin_1_1Pipeline_1ad655036c31f3639976baa3e8d5e73ba1"><span class="std std-ref">Pipeline::startSession</span></a>. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hasOutput</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Check if new output is available </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI9VioOutputE" title="spectacularAI::VioOutput"><span class="n"><span class="pre">VioOutput</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getOutput</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Get output from the queue, if available. If not, returns {} </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI9VioOutputE" title="spectacularAI::VioOutput"><span class="n"><span class="pre">VioOutput</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">waitForOutput</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Wait until new output is available and then return it. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">work</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>DEPRECATED, do not use. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">addTrigger</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">t</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tag</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Add an external trigger input. Causes additional output corresponding to a certain timestamp to be generated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – timestamp, monotonic float seconds </p></li>
<li><p><strong>tag</strong> – additonal tag to indentify this particular trigger event. The default outputs corresponding to input camera frames have a tag 0. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">addAbsolutePose</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI4PoseE" title="spectacularAI::Pose"><span class="n"><span class="pre">Pose</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">pose</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI8Matrix3dE" title="spectacularAI::Matrix3d"><span class="n"><span class="pre">Matrix3d</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">positionCovariance</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">orientationVariance</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="o"><span class="pre">-</span></span><span class="m"><span class="pre">1</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Add external pose information. VIO will correct its estimates to match the pose.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pose</strong> – pose of the output coordinates in the external world coordinates </p></li>
<li><p><strong>positionCovariance</strong> – position uncertainty as a covariance matrix in the external world coordinates </p></li>
<li><p><strong>orientationVariance</strong> – optional orientation uncertainty as variance of angle </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">addGnss</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">timestamp</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI14WgsCoordinatesE" title="spectacularAI::WgsCoordinates"><span class="n"><span class="pre">WgsCoordinates</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">coordinates</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI8Matrix3dE" title="spectacularAI::Matrix3d"><span class="n"><span class="pre">Matrix3d</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">enuPositionCovariance</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Add GNSS input (for GNSS-VIO fusion) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestamp</strong> – timestamp of the GNSS fix </p></li>
<li><p><strong>coordinates</strong> – position mean </p></li>
<li><p><strong>enuPositionCovariance</strong> – position uncertainty as a covariance matrix in an East-North-Up (ENU) coordinate system </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI10CameraPoseE" title="spectacularAI::CameraPose"><span class="n"><span class="pre">CameraPose</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getRgbCameraPose</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../cpp/latest/index.html#_CPPv4N13spectacularAI9VioOutputE" title="spectacularAI::VioOutput"><span class="n"><span class="pre">VioOutput</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">vioOut</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">~Session</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

</dd></dl>

</div></div>
</section>
<section id="hooks-api">
<h3>Hooks API<a class="headerlink" href="#hooks-api" title="Permalink to this heading"></a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-6-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-6-Qysr" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-Qysr" name="Qysr" role="tab" tabindex="-1">C++</button></div><div aria-labelledby="tab-6-UHl0aG9u" class="sphinx-tabs-panel group-tab" id="panel-6-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-6-Qysr" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-Qysr" name="Qysr" role="tabpanel" tabindex="0"><p>Defined in <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;spectacularAI/depthai/hooks.hpp&gt;</span></code></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp">
<span class="sig-name descname"><span class="n"><span class="pre">ImageHook</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp">
<span class="sig-name descname"><span class="n"><span class="pre">ImuHook</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp">
<span class="sig-name descname"><span class="n"><span class="pre">FeatureHook</span></span></span><br /></dt>
<dd></dd></dl>

</div>
<dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">spectacularAI</span></span></span><br /></dt>
<dd><dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">daiPlugin</span></span></span><br /></dt>
<dd><dl class="cpp struct">
<dt class="sig sig-object cpp">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Hooks</span></span></span><br /></dt>
<dd><p>When the plugin pulls something from the Depth AI API, those intermediary outputs can also be accessed through these hooks. Note that an input is not used by the plugin with the given <a class="reference internal" href="../cpp/latest/index.html#structspectacularAI_1_1daiPlugin_1_1Configuration"><span class="std std-ref">Configuration</span></a>, the corresponding hook is never triggered.</p>
<p>Depending on the configuration, the hooks may not be invoked from the same thread in which they were created. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv43dai" title="dai"><span class="n"><span class="pre">dai</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">IMUData</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">imu</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv43dai" title="dai"><span class="n"><span class="pre">dai</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ImgFrame</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">monoPrimary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv43dai" title="dai"><span class="n"><span class="pre">dai</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ImgFrame</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">monoSecondary</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv43dai" title="dai"><span class="n"><span class="pre">dai</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ImgFrame</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">depth</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv43dai" title="dai"><span class="n"><span class="pre">dai</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ImgFrame</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">color</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv43dai" title="dai"><span class="n"><span class="pre">dai</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">TrackedFeatures</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">trackedFeatures</span></span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

</dd></dl>

</div></div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>
    <div role="contentinfo">
        <hr/>
        <p>The publicly available Spectacular AI SDK versions are free for non-commercial use.</p>
        <p>&#169; 2025 Spectacular AI Ltd</p>
    </div>
</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>